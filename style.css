/* Page is white so the rounded corners are visible, like Widgetbox */
html, body { height:100%; margin:0; background:#ffffff; color:#ffffff; font-family:'Poppins',system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,sans-serif; }

/* Outer shell just centers the black card */
.shell{
  height:100%;
  width:100%;
  display:grid;
  place-items:center;
  padding:10px;              /* tiny breathing room around the card */
  box-sizing:border-box;
}

/* Black rounded frame that RESIZES and keeps a consistent shape */
.frame{
  background:#191919;
  border-radius:22px;
  box-shadow: 0 20px 60px rgba(0,0,0,.35);
  overflow:hidden;           /* clip to the rounded corners */

  /* This is the key: scale the whole app uniformly like a widget card */
  width:min(96vw, 1000px);   /* soft max width */
  aspect-ratio: 16 / 10;     /* stable proportions */
  display:flex;
  align-items:stretch;
  justify-content:center;
}

/* The app fills the card completely */
.widget{
  width:100%;
  height:100%;
  display:flex;
  justify-content:center;
}

/* No extra inner background layer */
.card{ background:transparent; border-radius:0; box-shadow:none; }

/* App content takes the full card height and leaves room for Notion’s hover bar */
.tracker{
  width:100%;
  height:100%;
  position:relative;
  box-sizing:border-box;

  /* plenty of top space so Notion hover UI never overlaps buttons */
  padding:
    clamp(56px, 10cqh, 88px)  /* top: responsive to card height */
    clamp(14px, 3cqw, 24px)   /* right/left */
    clamp(24px, 5cqh, 48px);  /* bottom */

  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
}

/* Text */
.headline{
  font-weight:700;
  letter-spacing:.2px;
  margin: clamp(6px, 1cqh, 10px) 0 4px;
  font-size: clamp(22px, 6cqw, 36px);
}
.subtle{
  margin: 0 0 clamp(8px, 1.5cqh, 12px);
  color:#bdbdbd;
  font-weight:500;
  font-size: clamp(14px, 3.6cqw, 18px);
}

/* Buttons pinned to the card corners (inside the rounded area) */
.settings-btn{
  position:absolute; top: clamp(14px, 2cqh, 22px); right: clamp(14px, 2.2cqw, 22px);
  background:#232323; border:1px solid #2f2f2f; border-radius:12px; padding:8px; cursor:pointer;
  display:flex; align-items:center; justify-content:center; transition: transform .15s ease; z-index:2;
}
.settings-btn:hover{ transform: translateY(-1px); }

.stats-btn{
  position:absolute; top: clamp(14px, 2cqh, 22px); left: clamp(14px, 2.2cqw, 22px);
  background:#232323; border:1px solid #2f2f2f; border-radius:12px; padding:8px; cursor:pointer;
  display:flex; align-items:center; justify-content:center; transition: transform .15s ease; z-index:2;
}
.stats-btn:hover{ transform: translateY(-1px); }

.controls{
  display:flex; justify-content:center; gap: clamp(10px, 3cqw, 16px);
  margin-bottom: clamp(8px, 2cqh, 12px);
}
.pill-btn{
  background:#00357a; color:#fff; border:0; border-radius:12px;
  padding: clamp(8px, 1.8cqh, 12px) clamp(10px, 3cqw, 16px);
  cursor:pointer; display:flex; align-items:center; justify-content:center;
  font-weight:600; min-width: clamp(40px, 8cqw, 56px); min-height: clamp(40px, 8cqw, 56px);
  transition: transform .1s ease, filter .2s ease;
}
.pill-btn:hover{ filter:brightness(1.1); transform: translateY(-1px); }

/* Droplet scales with the card (uses container query units cqw/cqh) */
#droplet{
  display:block;
  width: min(70cqw, 560px);
  max-width: 560px;
  margin: clamp(10px, 2cqh, 18px) auto 0;
}

/* Waves (animation driven by JS) */
#wavesGroup { transform: none; }

/* Modals (inside the black card) */
.modal{
  position: fixed; inset:0; display:flex; align-items:center; justify-content:center;
  background: rgba(0,0,0,.45); padding: clamp(12px, 3cqw, 24px); z-index: 50;
}
.modal.hidden{ display:none; }
.modal-inner{
  width: min(520px, 86cqw);
  padding: clamp(16px, 3cqw, 24px);
  border-radius: 18px;
  background: #1c1c1c;
}
.modal-header{ display:flex; align-items:center; justify-content:space-between; }
.icon-btn{ background: transparent; border:0; color:#fff; font-size: clamp(18px, 4cqw, 22px); cursor:pointer; }
.field{ margin: clamp(10px, 3cqw, 16px) 0; }
.field label{
  display:block; margin-bottom: clamp(6px, 2cqw, 8px);
  color: #bdbdbd; font-weight:600; font-size: clamp(13px, 3cqw, 16px);
}
input[type="number"], .select-wrap select{
  width:100%; background:#232323; color:#fff; border:1px solid #2f2f2f;
  border-radius: 18px; padding: clamp(10px, 3cqw, 14px) clamp(12px, 3.6cqw, 16px);
  font-size: clamp(14px, 3.6cqw, 16px); outline:none; appearance:none;
}
input[type="number"]:focus, .select-wrap select:focus{
  border-color:#00357a; box-shadow:0 0 0 2px color-mix(in srgb, #00357a 40%, transparent);
}
.select-wrap{ position:relative; }
.select-wrap::after{
  content:"▾"; position:absolute; right: clamp(10px, 3cqw, 14px); top:50%;
  transform:translateY(-50%); pointer-events:none; color:#fff;
}
.modal-actions{ margin-top: clamp(10px, 3cqw, 16px); display:flex; justify-content:flex-end; gap:10px; }
.hidden{ display:none; }
